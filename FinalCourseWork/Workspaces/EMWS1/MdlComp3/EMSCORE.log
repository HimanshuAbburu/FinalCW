*------------------------------------------------------------*
* Score Log
Date:                07 December 2021
Time:                16:12:20
*------------------------------------------------------------*
NOTE: View EMWS1.NEURAL3_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.07 seconds
      
NOTE: View EMWS1.NEURAL3_TRAIN.VIEW used (Total process time):
      real time           0.14 seconds
      cpu time            0.14 seconds
      
13148  /* Generate assessment metadata, which will be used to generate assessment data step */
13149  /* code, such as retrieving names of temporary variables and summary variables,      */
13150  /* labels, etc.  It is used in almost all the assessment computations such as lift,  */
13151  /* roc, index, scoreDist and could be thought as a global variable in assessment     */
13152  /* computation.                                                                      */
13153  data work.ASSESS_0N8TBND_assessMeta_64jWJI;
13154  length VARIABLE $32 FORMAT $44 TYPE $32 PARENT $32 LEVEL $32 PROPERTY $32 MEASUREMENT $10 LAST_LEVEL $32 GEN_VAR_IN_TEMP_DATA $32 RESULT_MEAN $32 RESULT_MEAN_LABEL $100 RESULT_MIN $32 RESULT_MIN_LABEL $100 MIN_ADJUSTED $32 RESULT_MAX $32
13154! RESULT_MAX_LABEL
13155     $100 MAX_ADJUSTED $32 RESULT_COUNT $32 RESULT_COUNT_LABEL $100 TEMPORARY_VARIABLE $32;
13156  VARIABLE = "ORGYN";
13157  PARENT = "";
13158  FORMAT = "";
13159  TYPE = "";
13160  LEVEL = '';
13161  PROPERTY = "TARGET";
13162  MEASUREMENT = "BINARY";
13163  LAST_LEVEL = '';
13164  GEN_VAR_IN_TEMP_DATA = "ORGYN";
13165  RESULT_MEAN = "";
13166  RESULT_MEAN_LABEL = "";
13167  RESULT_MIN = "";
13168  RESULT_MIN_LABEL = "";
13169  MIN_ADJUSTED = "";
13170  RESULT_MAX = "";
13171  RESULT_MAX_LABEL = "";
13172  MAX_ADJUSTED = "";
13173  RESULT_COUNT = "";
13174  RESULT_COUNT_LABEL = "";
13175  TEMPORARY_VARIABLE = "ORGYN_8a_uZZgPCPZ8xL5";
13176  output;
13177  VARIABLE = "F_ORGYN_1";
13178  FORMAT = "";
13179  TYPE = "";
13180  PARENT = "F_ORGYN";
13181  LEVEL = "1";
13182  PROPERTY = "TARGET_LEVEL";
13183  MEASUREMENT = "INTERVAL";
13184  LAST_LEVEL = "0";
13185  GEN_VAR_IN_TEMP_DATA = "F_ORGYN_1_mnFuAXZtZpnatJn";
13186  RESULT_MEAN = "F_ORGYN_1_mean_HOwhCifs58i_xlu";
13187  /* adjust for tied cases */
13188  RESULT_MEAN_LABEL = "";
13189  RESULT_MIN = "";
13190  RESULT_MIN_LABEL = "";
13191  RESULT_MAX = "";
13192  RESULT_MAX_LABEL = "";
13193  RESULT_COUNT = "NumberOfEvents";
13194  RESULT_COUNT_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_NumEvent_vlabel, NOQUOTE))";
13195  TEMPORARY_VARIABLE = "F_ORGYN_1_cTtWo_KmFK__Q_p";
13196  output;
13197  VARIABLE = "F_ORGYN_0";
13198  FORMAT = "";
13199  TYPE = "";
13200  PARENT = "F_ORGYN";
13201  LEVEL = "0";
13202  PROPERTY = "TARGET_LEVEL";
13203  MEASUREMENT = "INTERVAL";
13204  LAST_LEVEL = "0";
13205  GEN_VAR_IN_TEMP_DATA = "F_ORGYN_0_xTo5WMRoBWyRWJR";
13206  RESULT_MEAN = "F_ORGYN_0_mean_Z0zJMbpAoRogCom";
13207  /* adjust for tied cases */
13208  RESULT_MEAN_LABEL = "";
13209  RESULT_MIN = "";
13210  RESULT_MIN_LABEL = "";
13211  RESULT_MAX = "";
13212  RESULT_MAX_LABEL = "";
13213  RESULT_COUNT = "NumberOfEvents";
13214  RESULT_COUNT_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_NumEvent_vlabel, NOQUOTE))";
13215  TEMPORARY_VARIABLE = "F_ORGYN_0_otWrMwMEcXtRP_f";
13216  output;
13217  VARIABLE = "P_ORGYN1";
13218  FORMAT = "";
13219  TYPE = "";
13220  PARENT = "";
13221  LEVEL = "1";
13222  PROPERTY = "POSTERIOR_LEVEL";
13223  MEASUREMENT = "INTERVAL";
13224  LAST_LEVEL = "";
13225  GEN_VAR_IN_TEMP_DATA = "P_ORGYN1";
13226  RESULT_MEAN = "_meanP_";
13227  RESULT_MEAN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMean_vlabel, NOQUOTE))";
13228  RESULT_MIN = "_minP_";
13229  RESULT_MIN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMin_vlabel, NOQUOTE))";
13230  MIN_ADJUSTED = "P_ORGYN1_minAdjusted_MEMQFE632";
13231  RESULT_MAX = "_maxP_";
13232  RESULT_MAX_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMax_vlabel, NOQUOTE))";
13233  MAX_ADJUSTED = "P_ORGYN1_maxAdjusted_hVXf8pMc6";
13234  RESULT_COUNT = "";
13235  RESULT_COUNT_LABEL = "";
13236  TEMPORARY_VARIABLE = "P_ORGYN1_X9SbjT7R6uxJlyE";
13237  output;
13238  VARIABLE = "P_ORGYN0";
13239  FORMAT = "";
13240  TYPE = "";
13241  PARENT = "";
13242  LEVEL = "0";
13243  PROPERTY = "POSTERIOR_LEVEL";
13244  MEASUREMENT = "INTERVAL";
13245  LAST_LEVEL = "";
13246  GEN_VAR_IN_TEMP_DATA = "P_ORGYN0";
13247  RESULT_MEAN = "_meanP_";
13248  RESULT_MEAN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMean_vlabel, NOQUOTE))";
13249  RESULT_MIN = "_minP_";
13250  RESULT_MIN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMin_vlabel, NOQUOTE))";
13251  MIN_ADJUSTED = "P_ORGYN0_minAdjusted_QS8DhDD0W";
13252  RESULT_MAX = "_maxP_";
13253  RESULT_MAX_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMax_vlabel, NOQUOTE))";
13254  MAX_ADJUSTED = "P_ORGYN0_maxAdjusted_STx8D6Y2H";
13255  RESULT_COUNT = "";
13256  RESULT_COUNT_LABEL = "";
13257  TEMPORARY_VARIABLE = "P_ORGYN0_xOS7rSpTsrhhMMp";
13258  output;
13259  run;

NOTE: The data set WORK.ASSESS_0N8TBND_ASSESSMETA_64JWJI has 5 observations and 20 variables.
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.01 seconds
      

13260  /* Generate temporary dataset and obtain summary statistics such as total number of   */
13261  /* obserations, frequency of target.  However, summary statistics for class reporting */
13262  /* variabels are not computed here since if there exist class reporting variables,    */
13263  /* then PROC DMDB will be called. And there is no need to compute interval reporting  */
13264  /* summary statisitcs, if any.                                                        */
13265  data work.ASSESS_0N8TBND_normSD_tdg7gh(drop=
13266  _numberOfObservation_
13267  _levelFrequency_1
13268  _levelFrequency_2
13269  )
13270  work.ASSESS_0N8TBND_meansAndTi_Q8iCqL (keep=
13271  _numberOfObservation_
13272  _levelFrequency_1
13273  _levelFrequency_2
13274  );
13275  set EMWS1.Neural3_TRAIN(
13276  where=(
13277  (ORGYN ^= .)
13278  )
13279  ) end=_lastObservation_;
13280  keep frequency_n9CfAd;
13281  frequency_n9CfAd = 1;
13282  keep I_ORGYN F_ORGYN;
13283  keep F_ORGYN_1_mnFuAXZtZpnatJn;
13284  if (F_ORGYN = '1') then do;
13285  F_ORGYN_1_mnFuAXZtZpnatJn = 1;
13286  end;
13287  else do;
13288  F_ORGYN_1_mnFuAXZtZpnatJn = 0;
13289  end;
13290  keep F_ORGYN_0_xTo5WMRoBWyRWJR;
13291  if (F_ORGYN = '0') then do;
13292  F_ORGYN_0_xTo5WMRoBWyRWJR = 1;
13293  end;
13294  else do;
13295  F_ORGYN_0_xTo5WMRoBWyRWJR = 0;
13296  end;
13297  keep P_ORGYN1;
13298  keep P_ORGYN0;
13299  output work.ASSESS_0N8TBND_normSD_tdg7gh;
13300  keep _numberOfObservation_;
13301  retain _numberOfObservation_ 0;
13302  _numberOfObservation_ + frequency_n9CfAd;
13303  keep _levelFrequency_1;
13304  retain _levelFrequency_1 0;
13305  if (F_ORGYN = '1') then do;
13306  _levelFrequency_1 + frequency_n9CfAd;
13307  end;
13308  keep _levelFrequency_2;
13309  retain _levelFrequency_2 0;
13310  if (F_ORGYN = '0') then do;
13311  _levelFrequency_2 + frequency_n9CfAd;
13312  end;
13313  if _lastObservation_ then do;
13314  output work.ASSESS_0N8TBND_meansAndTi_Q8iCqL;
13315  end;
13316  run;

NOTE: There were 4000 observations read from the data set EMWS1.PART_TRAIN.
NOTE: View EMWS1.NEURAL3_TRAIN.VIEW used (Total process time):
      real time           0.08 seconds
      cpu time            0.06 seconds
      
NOTE: There were 4000 observations read from the data set EMWS1.IMPT2_TRAIN.
NOTE: There were 4000 observations read from the data set EMWS1.NEURAL3_TRAIN.
      WHERE ORGYN not = .;
NOTE: The data set WORK.ASSESS_0N8TBND_NORMSD_TDG7GH has 4000 observations and 7 variables.
NOTE: The data set WORK.ASSESS_0N8TBND_MEANSANDTI_Q8ICQL has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.10 seconds
      cpu time            0.09 seconds
      

13317  data WORK._EMRANK;
13318  set EMWS1.MdlComp3_EMRANK;
13319  where MODEL = "Neural3" and TARGET = "ORGYN" and dataRole="TRAIN";
13320  run;

NOTE: There were 20 observations read from the data set EMWS1.MDLCOMP3_EMRANK.
      WHERE (MODEL='Neural3') and (TARGET='ORGYN') and (dataRole='TRAIN');
NOTE: The data set WORK._EMRANK has 20 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

13321  data work._augment;
13322  do BIN= 1 to 20;
13323  DECILE = BIN*5;
13324  output;
13325  end;
13326  run;

NOTE: The data set WORK._AUGMENT has 20 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

13327  data WORK._EMRANK;
13328  merge WORK._AUGMENT WORK._EMRANK;
13329  by BIN;
13330  run;

NOTE: There were 20 observations read from the data set WORK._AUGMENT.
NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 20 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

13331  data WORK._EMRANK;
13332  set WORK._EMRANK end=_lastObservation_;
13333  retain _previousMinP_ _previousMaxP_;
13334  retain _group_ 1;
13335  keep event;
13336  keep bin _cutoff_ _group_;
13337  if (bin > 1) then do;
13338  bin = bin - 1;
13339  _cutoff_ = (_maxP_ + _previousMinP_) / 2;
13340  if (abs(_previousMaxP_ - _previousMinP_) < 1E-6) then do;
13341  /* tied */
13342  _cutoff_ = max((_minP_ + _maxP_)/2, min(_cutoff_, _previousMinP_/*-1E-6*/
13343  ));
13344  end;
13345  else if (abs(_maxP_ - _minP_) < 1E-6) then do;
13346  /* next tied */
13347  _cutoff_ = min((_previousMinP_ + _previousMaxP_)/2, max(_cutoff_, _maxP_/*+ 1E-6*/
13348  ));
13349  end;
13350  output;
13351  *if ( abs((_maxP_ +_minP_)/2 - (_previousMaxP_ + _previousMinP_)/2) > 1E-6) then do;
13352  * _group_ + 1;
13353  *end;
13354  if (_maxP_ le _previousMinP_ - 1E-6) then do;
13355  _group_ + 1;
13356  end;
13357  else if (abs(_maxP_ - _previousMinP_) < 1E-6) then do;
13358  if (abs(_maxP_ - _minP_) > 1E-6) then do;
13359  _group_ + 1;
13360  end;
13361  end;
13362  bin + 1;
13363  /* correct the previous change */
13364  end;
13365  if (_lastObservation_) then do;
13366  _cutoff_ = .;
13367  output;
13368  end;
13369  _previousMinP_ = _minP_;
13370  _previousMaxP_ = _maxP_;
13371  run;

NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 20 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

13372  data WORK._EMRANK;
13373  set WORK._EMRANK;
13374  by _group_;
13375  retain _start_;
13376  if (first._group_) then do;
13377  _start_ = _n_;
13378  end;
13379  if (last._group_) then do;
13380  _end_ = _n_;
13381  output;
13382  end;
13383  run;

NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 20 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
13384  filename emflow "H:\DMU_Final Year\Data Mining\FinalCW\FinalCourseWork\Workspaces\EMWS1\MdlComp3\EMFLOWSCORE.sas";
13385  *------------------------------------------------------------*;
13386  * MdlComp3: Scoring NEURAL3_TRAIN data;
13387  *------------------------------------------------------------*;
13388  data EMWS1.MdlComp3_TRAIN
13389  / view=EMWS1.MdlComp3_TRAIN
13390  ;
13391  set EMWS1.Neural3_TRAIN
13392  ;
13393  %inc emflow;
13473   run;

NOTE: DATA STEP view saved on file EMWS1.MDLCOMP3_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.NEURAL3_TRAIN.VIEW used (Total process time):
      real time           0.10 seconds
      cpu time            0.07 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.12 seconds
      cpu time            0.07 seconds
      

13474   quit;
13475   filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

13476   filename emflow "H:\DMU_Final Year\Data Mining\FinalCW\FinalCourseWork\Workspaces\EMWS1\MdlComp3\EMFLOWSCORE.sas";
13477   *------------------------------------------------------------*;
13478   * MdlComp3: Scoring NEURAL3_VALIDATE data;
13479   *------------------------------------------------------------*;
13480   data EMWS1.MdlComp3_VALIDATE
13481   / view=EMWS1.MdlComp3_VALIDATE
13482   ;
13483   set EMWS1.Neural3_VALIDATE
13484   ;
13485   %inc emflow;
13565   run;

NOTE: DATA STEP view saved on file EMWS1.MDLCOMP3_VALIDATE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.NEURAL3_VALIDATE.VIEW used (Total process time):
      real time           0.10 seconds
      cpu time            0.09 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.12 seconds
      cpu time            0.10 seconds
      

13566   quit;
13567   filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

13568   filename emflow "H:\DMU_Final Year\Data Mining\FinalCW\FinalCourseWork\Workspaces\EMWS1\MdlComp3\EMFLOWSCORE.sas";
13569   *------------------------------------------------------------*;
13570   * MdlComp3: Scoring NEURAL3_TEST data;
13571   *------------------------------------------------------------*;
13572   data EMWS1.MdlComp3_TEST
13573   / view=EMWS1.MdlComp3_TEST
13574   ;
13575   set EMWS1.Neural3_TEST
13576   ;
13577   %inc emflow;
13657   run;

NOTE: DATA STEP view saved on file EMWS1.MDLCOMP3_TEST.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.NEURAL3_TEST.VIEW used (Total process time):
      real time           0.09 seconds
      cpu time            0.07 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.11 seconds
      cpu time            0.09 seconds
      

13658   quit;
13659   filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

13660   *------------------------------------------------------------*;
13661   * MdlComp3: Computing metadata for TRAIN data;
13662   *------------------------------------------------------------*;

NOTE: View EMWS1.MDLCOMP3_TRAIN.VIEW used (Total process time):
      real time           0.11 seconds
      cpu time            0.11 seconds
      
NOTE: View EMWS1.MDLCOMP3_TRAIN.VIEW used (Total process time):
      real time           0.10 seconds
      cpu time            0.09 seconds
      
NOTE: View EMWS1.MDLCOMP3_VALIDATE.VIEW used (Total process time):
      real time           0.11 seconds
      cpu time            0.09 seconds
      
NOTE: View EMWS1.MDLCOMP3_TEST.VIEW used (Total process time):
      real time           0.12 seconds
      cpu time            0.12 seconds
      
