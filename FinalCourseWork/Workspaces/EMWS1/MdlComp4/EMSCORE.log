*------------------------------------------------------------*
* Score Log
Date:                09 December 2021
Time:                19:09:19
*------------------------------------------------------------*
NOTE: View EMWS1.TREE_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      
NOTE: View EMWS1.TREE_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      
12628  /* Generate assessment metadata, which will be used to generate assessment data step */
12629  /* code, such as retrieving names of temporary variables and summary variables,      */
12630  /* labels, etc.  It is used in almost all the assessment computations such as lift,  */
12631  /* roc, index, scoreDist and could be thought as a global variable in assessment     */
12632  /* computation.                                                                      */
12633  data work.ASSESS_1ZSTPI7_assessMeta_r3zMXo;
12634  length VARIABLE $32 FORMAT $44 TYPE $32 PARENT $32 LEVEL $32 PROPERTY $32 MEASUREMENT $10 LAST_LEVEL $32 GEN_VAR_IN_TEMP_DATA $32 RESULT_MEAN $32 RESULT_MEAN_LABEL $100 RESULT_MIN $32 RESULT_MIN_LABEL $100 MIN_ADJUSTED $32 RESULT_MAX $32
12634! RESULT_MAX_LABEL
12635     $100 MAX_ADJUSTED $32 RESULT_COUNT $32 RESULT_COUNT_LABEL $100 TEMPORARY_VARIABLE $32;
12636  VARIABLE = "ORGYN";
12637  PARENT = "";
12638  FORMAT = "";
12639  TYPE = "";
12640  LEVEL = '';
12641  PROPERTY = "TARGET";
12642  MEASUREMENT = "BINARY";
12643  LAST_LEVEL = '';
12644  GEN_VAR_IN_TEMP_DATA = "ORGYN";
12645  RESULT_MEAN = "";
12646  RESULT_MEAN_LABEL = "";
12647  RESULT_MIN = "";
12648  RESULT_MIN_LABEL = "";
12649  MIN_ADJUSTED = "";
12650  RESULT_MAX = "";
12651  RESULT_MAX_LABEL = "";
12652  MAX_ADJUSTED = "";
12653  RESULT_COUNT = "";
12654  RESULT_COUNT_LABEL = "";
12655  TEMPORARY_VARIABLE = "ORGYN_4SIUUnc2rwbNDN5";
12656  output;
12657  VARIABLE = "F_ORGYN_1";
12658  FORMAT = "";
12659  TYPE = "";
12660  PARENT = "F_ORGYN";
12661  LEVEL = "1";
12662  PROPERTY = "TARGET_LEVEL";
12663  MEASUREMENT = "INTERVAL";
12664  LAST_LEVEL = "0";
12665  GEN_VAR_IN_TEMP_DATA = "F_ORGYN_1_w4nrBW8p8NePsKL";
12666  RESULT_MEAN = "F_ORGYN_1_mean_Xq5sqN_lB_pPF7L";
12667  /* adjust for tied cases */
12668  RESULT_MEAN_LABEL = "";
12669  RESULT_MIN = "";
12670  RESULT_MIN_LABEL = "";
12671  RESULT_MAX = "";
12672  RESULT_MAX_LABEL = "";
12673  RESULT_COUNT = "NumberOfEvents";
12674  RESULT_COUNT_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_NumEvent_vlabel, NOQUOTE))";
12675  TEMPORARY_VARIABLE = "F_ORGYN_1_Mh39MsajSbrUVB7";
12676  output;
12677  VARIABLE = "F_ORGYN_0";
12678  FORMAT = "";
12679  TYPE = "";
12680  PARENT = "F_ORGYN";
12681  LEVEL = "0";
12682  PROPERTY = "TARGET_LEVEL";
12683  MEASUREMENT = "INTERVAL";
12684  LAST_LEVEL = "0";
12685  GEN_VAR_IN_TEMP_DATA = "F_ORGYN_0_7VO8N2DbZjDl_IZ";
12686  RESULT_MEAN = "F_ORGYN_0_mean_1cPnyH1cygXK7sw";
12687  /* adjust for tied cases */
12688  RESULT_MEAN_LABEL = "";
12689  RESULT_MIN = "";
12690  RESULT_MIN_LABEL = "";
12691  RESULT_MAX = "";
12692  RESULT_MAX_LABEL = "";
12693  RESULT_COUNT = "NumberOfEvents";
12694  RESULT_COUNT_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_NumEvent_vlabel, NOQUOTE))";
12695  TEMPORARY_VARIABLE = "F_ORGYN_0_s7JmZfWtY1pKSSd";
12696  output;
12697  VARIABLE = "P_ORGYN1";
12698  FORMAT = "";
12699  TYPE = "";
12700  PARENT = "";
12701  LEVEL = "1";
12702  PROPERTY = "POSTERIOR_LEVEL";
12703  MEASUREMENT = "INTERVAL";
12704  LAST_LEVEL = "";
12705  GEN_VAR_IN_TEMP_DATA = "P_ORGYN1";
12706  RESULT_MEAN = "_meanP_";
12707  RESULT_MEAN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMean_vlabel, NOQUOTE))";
12708  RESULT_MIN = "_minP_";
12709  RESULT_MIN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMin_vlabel, NOQUOTE))";
12710  MIN_ADJUSTED = "P_ORGYN1_minAdjusted_vPV0Cghsf";
12711  RESULT_MAX = "_maxP_";
12712  RESULT_MAX_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMax_vlabel, NOQUOTE))";
12713  MAX_ADJUSTED = "P_ORGYN1_maxAdjusted_Edd8gQD9g";
12714  RESULT_COUNT = "";
12715  RESULT_COUNT_LABEL = "";
12716  TEMPORARY_VARIABLE = "P_ORGYN1_WOUSFRE__dSNuE3";
12717  output;
12718  VARIABLE = "P_ORGYN0";
12719  FORMAT = "";
12720  TYPE = "";
12721  PARENT = "";
12722  LEVEL = "0";
12723  PROPERTY = "POSTERIOR_LEVEL";
12724  MEASUREMENT = "INTERVAL";
12725  LAST_LEVEL = "";
12726  GEN_VAR_IN_TEMP_DATA = "P_ORGYN0";
12727  RESULT_MEAN = "_meanP_";
12728  RESULT_MEAN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMean_vlabel, NOQUOTE))";
12729  RESULT_MIN = "_minP_";
12730  RESULT_MIN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMin_vlabel, NOQUOTE))";
12731  MIN_ADJUSTED = "P_ORGYN0_minAdjusted_h7s68vzrG";
12732  RESULT_MAX = "_maxP_";
12733  RESULT_MAX_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMax_vlabel, NOQUOTE))";
12734  MAX_ADJUSTED = "P_ORGYN0_maxAdjusted_zRybVO8xg";
12735  RESULT_COUNT = "";
12736  RESULT_COUNT_LABEL = "";
12737  TEMPORARY_VARIABLE = "P_ORGYN0_L90DL14_8A8nwtN";
12738  output;
12739  run;

NOTE: The data set WORK.ASSESS_1ZSTPI7_ASSESSMETA_R3ZMXO has 5 observations and 20 variables.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.03 seconds
      

12740  /* Generate temporary dataset and obtain summary statistics such as total number of   */
12741  /* obserations, frequency of target.  However, summary statistics for class reporting */
12742  /* variabels are not computed here since if there exist class reporting variables,    */
12743  /* then PROC DMDB will be called. And there is no need to compute interval reporting  */
12744  /* summary statisitcs, if any.                                                        */
12745  data work.ASSESS_1ZSTPI7_normSD_CwMYl_(drop=
12746  _numberOfObservation_
12747  _levelFrequency_1
12748  _levelFrequency_2
12749  )
12750  work.ASSESS_1ZSTPI7_meansAndTi_3Um4Bf (keep=
12751  _numberOfObservation_
12752  _levelFrequency_1
12753  _levelFrequency_2
12754  );
12755  set EMWS1.Tree_TRAIN(
12756  where=(
12757  (ORGYN ^= .)
12758  )
12759  ) end=_lastObservation_;
12760  keep frequency_7vLIuW;
12761  frequency_7vLIuW = 1;
12762  keep I_ORGYN F_ORGYN;
12763  keep F_ORGYN_1_w4nrBW8p8NePsKL;
12764  if (F_ORGYN = '1') then do;
12765  F_ORGYN_1_w4nrBW8p8NePsKL = 1;
12766  end;
12767  else do;
12768  F_ORGYN_1_w4nrBW8p8NePsKL = 0;
12769  end;
12770  keep F_ORGYN_0_7VO8N2DbZjDl_IZ;
12771  if (F_ORGYN = '0') then do;
12772  F_ORGYN_0_7VO8N2DbZjDl_IZ = 1;
12773  end;
12774  else do;
12775  F_ORGYN_0_7VO8N2DbZjDl_IZ = 0;
12776  end;
12777  keep P_ORGYN1;
12778  keep P_ORGYN0;
12779  output work.ASSESS_1ZSTPI7_normSD_CwMYl_;
12780  keep _numberOfObservation_;
12781  retain _numberOfObservation_ 0;
12782  _numberOfObservation_ + frequency_7vLIuW;
12783  keep _levelFrequency_1;
12784  retain _levelFrequency_1 0;
12785  if (F_ORGYN = '1') then do;
12786  _levelFrequency_1 + frequency_7vLIuW;
12787  end;
12788  keep _levelFrequency_2;
12789  retain _levelFrequency_2 0;
12790  if (F_ORGYN = '0') then do;
12791  _levelFrequency_2 + frequency_7vLIuW;
12792  end;
12793  if _lastObservation_ then do;
12794  output work.ASSESS_1ZSTPI7_meansAndTi_3Um4Bf;
12795  end;
12796  run;

NOTE: Variable _WARN_ is uninitialized.
NOTE: View EMWS1.TREE_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      
NOTE: There were 4000 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 4000 observations read from the data set EMWS1.TREE_TRAIN.
      WHERE ORGYN not = .;
NOTE: The data set WORK.ASSESS_1ZSTPI7_NORMSD_CWMYL_ has 4000 observations and 7 variables.
NOTE: The data set WORK.ASSESS_1ZSTPI7_MEANSANDTI_3UM4BF has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      

12797  data WORK._EMRANK;
12798  set EMWS1.MdlComp4_EMRANK;
12799  where MODEL = "Tree" and TARGET = "ORGYN" and dataRole="TRAIN";
12800  run;

NOTE: There were 20 observations read from the data set EMWS1.MDLCOMP4_EMRANK.
      WHERE (MODEL='Tree') and (TARGET='ORGYN') and (dataRole='TRAIN');
NOTE: The data set WORK._EMRANK has 20 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12801  data work._augment;
12802  do BIN= 1 to 20;
12803  DECILE = BIN*5;
12804  output;
12805  end;
12806  run;

NOTE: The data set WORK._AUGMENT has 20 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

12807  data WORK._EMRANK;
12808  merge WORK._AUGMENT WORK._EMRANK;
12809  by BIN;
12810  run;

NOTE: There were 20 observations read from the data set WORK._AUGMENT.
NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 20 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12811  data WORK._EMRANK;
12812  set WORK._EMRANK end=_lastObservation_;
12813  retain _previousMinP_ _previousMaxP_;
12814  retain _group_ 1;
12815  keep event;
12816  keep bin _cutoff_ _group_;
12817  if (bin > 1) then do;
12818  bin = bin - 1;
12819  _cutoff_ = (_maxP_ + _previousMinP_) / 2;
12820  if (abs(_previousMaxP_ - _previousMinP_) < 1E-6) then do;
12821  /* tied */
12822  _cutoff_ = max((_minP_ + _maxP_)/2, min(_cutoff_, _previousMinP_/*-1E-6*/
12823  ));
12824  end;
12825  else if (abs(_maxP_ - _minP_) < 1E-6) then do;
12826  /* next tied */
12827  _cutoff_ = min((_previousMinP_ + _previousMaxP_)/2, max(_cutoff_, _maxP_/*+ 1E-6*/
12828  ));
12829  end;
12830  output;
12831  *if ( abs((_maxP_ +_minP_)/2 - (_previousMaxP_ + _previousMinP_)/2) > 1E-6) then do;
12832  * _group_ + 1;
12833  *end;
12834  if (_maxP_ le _previousMinP_ - 1E-6) then do;
12835  _group_ + 1;
12836  end;
12837  else if (abs(_maxP_ - _previousMinP_) < 1E-6) then do;
12838  if (abs(_maxP_ - _minP_) > 1E-6) then do;
12839  _group_ + 1;
12840  end;
12841  end;
12842  bin + 1;
12843  /* correct the previous change */
12844  end;
12845  if (_lastObservation_) then do;
12846  _cutoff_ = .;
12847  output;
12848  end;
12849  _previousMinP_ = _minP_;
12850  _previousMaxP_ = _maxP_;
12851  run;

NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 20 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

12852  data WORK._EMRANK;
12853  set WORK._EMRANK;
12854  by _group_;
12855  retain _start_;
12856  if (first._group_) then do;
12857  _start_ = _n_;
12858  end;
12859  if (last._group_) then do;
12860  _end_ = _n_;
12861  output;
12862  end;
12863  run;

NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 11 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
12864  filename emflow "H:\DMU_Final Year\Data Mining\FinalCW\FinalCourseWork\Workspaces\EMWS1\MdlComp4\EMFLOWSCORE.sas";
12865  *------------------------------------------------------------*;
12866  * MdlComp4: Scoring TREE_TRAIN data;
12867  *------------------------------------------------------------*;
12868  data EMWS1.MdlComp4_TRAIN
12869  / view=EMWS1.MdlComp4_TRAIN
12870  ;
12871  set EMWS1.Tree_TRAIN
12872  ;
12873  %inc emflow;
12923  run;

NOTE: DATA STEP view saved on file EMWS1.MDLCOMP4_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.TREE_TRAIN.VIEW used (Total process time):
      real time           0.08 seconds
      cpu time            0.01 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.01 seconds
      

12924  quit;
12925  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

12926  filename emflow "H:\DMU_Final Year\Data Mining\FinalCW\FinalCourseWork\Workspaces\EMWS1\MdlComp4\EMFLOWSCORE.sas";
12927  *------------------------------------------------------------*;
12928  * MdlComp4: Scoring TREE_VALIDATE data;
12929  *------------------------------------------------------------*;
12930  data EMWS1.MdlComp4_VALIDATE
12931  / view=EMWS1.MdlComp4_VALIDATE
12932  ;
12933  set EMWS1.Tree_VALIDATE
12934  ;
12935  %inc emflow;
12985  run;

NOTE: DATA STEP view saved on file EMWS1.MDLCOMP4_VALIDATE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.TREE_VALIDATE.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.03 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      

12986  quit;
12987  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

12988  filename emflow "H:\DMU_Final Year\Data Mining\FinalCW\FinalCourseWork\Workspaces\EMWS1\MdlComp4\EMFLOWSCORE.sas";
12989  *------------------------------------------------------------*;
12990  * MdlComp4: Scoring TREE_TEST data;
12991  *------------------------------------------------------------*;
12992  data EMWS1.MdlComp4_TEST
12993  / view=EMWS1.MdlComp4_TEST
12994  ;
12995  set EMWS1.Tree_TEST
12996  ;
12997  %inc emflow;
13047  run;

NOTE: DATA STEP view saved on file EMWS1.MDLCOMP4_TEST.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.TREE_TEST.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.03 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
      

13048  quit;
13049  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

13050  *------------------------------------------------------------*;
13051  * MdlComp4: Computing metadata for TRAIN data;
13052  *------------------------------------------------------------*;

NOTE: View EMWS1.MDLCOMP4_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      
NOTE: View EMWS1.MDLCOMP4_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      
NOTE: View EMWS1.MDLCOMP4_VALIDATE.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      
NOTE: View EMWS1.MDLCOMP4_TEST.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      
