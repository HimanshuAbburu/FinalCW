*------------------------------------------------------------*
* Score Log
Date:                09 December 2021
Time:                16:21:15
*------------------------------------------------------------*
NOTE: View EMWS1.REG2_TRAIN.VIEW used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      
NOTE: View EMWS1.REG2_TRAIN.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
      
12860  /* Generate assessment metadata, which will be used to generate assessment data step */
12861  /* code, such as retrieving names of temporary variables and summary variables,      */
12862  /* labels, etc.  It is used in almost all the assessment computations such as lift,  */
12863  /* roc, index, scoreDist and could be thought as a global variable in assessment     */
12864  /* computation.                                                                      */
12865  data work.ASSESS_15UZTWB_assessMeta_bumCqD;
12866  length VARIABLE $32 FORMAT $44 TYPE $32 PARENT $32 LEVEL $32 PROPERTY $32 MEASUREMENT $10 LAST_LEVEL $32 GEN_VAR_IN_TEMP_DATA $32 RESULT_MEAN $32 RESULT_MEAN_LABEL $100 RESULT_MIN $32 RESULT_MIN_LABEL $100 MIN_ADJUSTED $32 RESULT_MAX $32
12866! RESULT_MAX_LABEL
12867     $100 MAX_ADJUSTED $32 RESULT_COUNT $32 RESULT_COUNT_LABEL $100 TEMPORARY_VARIABLE $32;
12868  VARIABLE = "ORGYN";
12869  PARENT = "";
12870  FORMAT = "";
12871  TYPE = "";
12872  LEVEL = '';
12873  PROPERTY = "TARGET";
12874  MEASUREMENT = "BINARY";
12875  LAST_LEVEL = '';
12876  GEN_VAR_IN_TEMP_DATA = "ORGYN";
12877  RESULT_MEAN = "";
12878  RESULT_MEAN_LABEL = "";
12879  RESULT_MIN = "";
12880  RESULT_MIN_LABEL = "";
12881  MIN_ADJUSTED = "";
12882  RESULT_MAX = "";
12883  RESULT_MAX_LABEL = "";
12884  MAX_ADJUSTED = "";
12885  RESULT_COUNT = "";
12886  RESULT_COUNT_LABEL = "";
12887  TEMPORARY_VARIABLE = "ORGYN_SbK14EMpRdwQKTs";
12888  output;
12889  VARIABLE = "F_ORGYN_1";
12890  FORMAT = "";
12891  TYPE = "";
12892  PARENT = "F_ORGYN";
12893  LEVEL = "1";
12894  PROPERTY = "TARGET_LEVEL";
12895  MEASUREMENT = "INTERVAL";
12896  LAST_LEVEL = "0";
12897  GEN_VAR_IN_TEMP_DATA = "F_ORGYN_1_uLDWcPPE2fqyKXY";
12898  RESULT_MEAN = "F_ORGYN_1_mean__bTeUsZ4dHSLBea";
12899  /* adjust for tied cases */
12900  RESULT_MEAN_LABEL = "";
12901  RESULT_MIN = "";
12902  RESULT_MIN_LABEL = "";
12903  RESULT_MAX = "";
12904  RESULT_MAX_LABEL = "";
12905  RESULT_COUNT = "NumberOfEvents";
12906  RESULT_COUNT_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_NumEvent_vlabel, NOQUOTE))";
12907  TEMPORARY_VARIABLE = "F_ORGYN_1_iEySVQWTHuM66J3";
12908  output;
12909  VARIABLE = "F_ORGYN_0";
12910  FORMAT = "";
12911  TYPE = "";
12912  PARENT = "F_ORGYN";
12913  LEVEL = "0";
12914  PROPERTY = "TARGET_LEVEL";
12915  MEASUREMENT = "INTERVAL";
12916  LAST_LEVEL = "0";
12917  GEN_VAR_IN_TEMP_DATA = "F_ORGYN_0_BihxHYymh8UYrmr";
12918  RESULT_MEAN = "F_ORGYN_0_mean_bQsAXrQXIzIM7q8";
12919  /* adjust for tied cases */
12920  RESULT_MEAN_LABEL = "";
12921  RESULT_MIN = "";
12922  RESULT_MIN_LABEL = "";
12923  RESULT_MAX = "";
12924  RESULT_MAX_LABEL = "";
12925  RESULT_COUNT = "NumberOfEvents";
12926  RESULT_COUNT_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_NumEvent_vlabel, NOQUOTE))";
12927  TEMPORARY_VARIABLE = "F_ORGYN_0_R4vuonpxXBHNbcU";
12928  output;
12929  VARIABLE = "P_ORGYN1";
12930  FORMAT = "";
12931  TYPE = "";
12932  PARENT = "";
12933  LEVEL = "1";
12934  PROPERTY = "POSTERIOR_LEVEL";
12935  MEASUREMENT = "INTERVAL";
12936  LAST_LEVEL = "";
12937  GEN_VAR_IN_TEMP_DATA = "P_ORGYN1";
12938  RESULT_MEAN = "_meanP_";
12939  RESULT_MEAN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMean_vlabel, NOQUOTE))";
12940  RESULT_MIN = "_minP_";
12941  RESULT_MIN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMin_vlabel, NOQUOTE))";
12942  MIN_ADJUSTED = "P_ORGYN1_minAdjusted_42JpOw0Qf";
12943  RESULT_MAX = "_maxP_";
12944  RESULT_MAX_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMax_vlabel, NOQUOTE))";
12945  MAX_ADJUSTED = "P_ORGYN1_maxAdjusted_GivxUGFJg";
12946  RESULT_COUNT = "";
12947  RESULT_COUNT_LABEL = "";
12948  TEMPORARY_VARIABLE = "P_ORGYN1_gVHsOipmgddApJC";
12949  output;
12950  VARIABLE = "P_ORGYN0";
12951  FORMAT = "";
12952  TYPE = "";
12953  PARENT = "";
12954  LEVEL = "0";
12955  PROPERTY = "POSTERIOR_LEVEL";
12956  MEASUREMENT = "INTERVAL";
12957  LAST_LEVEL = "";
12958  GEN_VAR_IN_TEMP_DATA = "P_ORGYN0";
12959  RESULT_MEAN = "_meanP_";
12960  RESULT_MEAN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMean_vlabel, NOQUOTE))";
12961  RESULT_MIN = "_minP_";
12962  RESULT_MIN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMin_vlabel, NOQUOTE))";
12963  MIN_ADJUSTED = "P_ORGYN0_minAdjusted_oVjyM9bqT";
12964  RESULT_MAX = "_maxP_";
12965  RESULT_MAX_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMax_vlabel, NOQUOTE))";
12966  MAX_ADJUSTED = "P_ORGYN0_maxAdjusted_oYHhQcTg1";
12967  RESULT_COUNT = "";
12968  RESULT_COUNT_LABEL = "";
12969  TEMPORARY_VARIABLE = "P_ORGYN0_S0W2Wm5YtARYwtx";
12970  output;
12971  run;

NOTE: The data set WORK.ASSESS_15UZTWB_ASSESSMETA_BUMCQD has 5 observations and 20 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
      

12972  /* Generate temporary dataset and obtain summary statistics such as total number of   */
12973  /* obserations, frequency of target.  However, summary statistics for class reporting */
12974  /* variabels are not computed here since if there exist class reporting variables,    */
12975  /* then PROC DMDB will be called. And there is no need to compute interval reporting  */
12976  /* summary statisitcs, if any.                                                        */
12977  data work.ASSESS_15UZTWB_normSD_5gxZpX(drop=
12978  _numberOfObservation_
12979  _levelFrequency_1
12980  _levelFrequency_2
12981  )
12982  work.ASSESS_15UZTWB_meansAndTi_prHfVQ (keep=
12983  _numberOfObservation_
12984  _levelFrequency_1
12985  _levelFrequency_2
12986  );
12987  set EMWS1.Reg2_TRAIN(
12988  where=(
12989  (ORGYN ^= .)
12990  )
12991  ) end=_lastObservation_;
12992  keep frequency_lvvLgt;
12993  frequency_lvvLgt = 1;
12994  keep I_ORGYN F_ORGYN;
12995  keep F_ORGYN_1_uLDWcPPE2fqyKXY;
12996  if (F_ORGYN = '1') then do;
12997  F_ORGYN_1_uLDWcPPE2fqyKXY = 1;
12998  end;
12999  else do;
13000  F_ORGYN_1_uLDWcPPE2fqyKXY = 0;
13001  end;
13002  keep F_ORGYN_0_BihxHYymh8UYrmr;
13003  if (F_ORGYN = '0') then do;
13004  F_ORGYN_0_BihxHYymh8UYrmr = 1;
13005  end;
13006  else do;
13007  F_ORGYN_0_BihxHYymh8UYrmr = 0;
13008  end;
13009  keep P_ORGYN1;
13010  keep P_ORGYN0;
13011  output work.ASSESS_15UZTWB_normSD_5gxZpX;
13012  keep _numberOfObservation_;
13013  retain _numberOfObservation_ 0;
13014  _numberOfObservation_ + frequency_lvvLgt;
13015  keep _levelFrequency_1;
13016  retain _levelFrequency_1 0;
13017  if (F_ORGYN = '1') then do;
13018  _levelFrequency_1 + frequency_lvvLgt;
13019  end;
13020  keep _levelFrequency_2;
13021  retain _levelFrequency_2 0;
13022  if (F_ORGYN = '0') then do;
13023  _levelFrequency_2 + frequency_lvvLgt;
13024  end;
13025  if _lastObservation_ then do;
13026  output work.ASSESS_15UZTWB_meansAndTi_prHfVQ;
13027  end;
13028  run;

NOTE: View EMWS1.REG2_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      
NOTE: There were 4000 observations read from the data set EMWS1.PART_TRAIN.
NOTE: There were 4000 observations read from the data set EMWS1.REG2_TRAIN.
      WHERE ORGYN not = .;
NOTE: The data set WORK.ASSESS_15UZTWB_NORMSD_5GXZPX has 4000 observations and 7 variables.
NOTE: The data set WORK.ASSESS_15UZTWB_MEANSANDTI_PRHFVQ has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.05 seconds
      cpu time            0.04 seconds
      

13029  data WORK._EMRANK;
13030  set EMWS1.MdlComp_EMRANK;
13031  where MODEL = "Reg2" and TARGET = "ORGYN" and dataRole="TRAIN";
13032  run;

NOTE: There were 20 observations read from the data set EMWS1.MDLCOMP_EMRANK.
      WHERE (MODEL='Reg2') and (TARGET='ORGYN') and (dataRole='TRAIN');
NOTE: The data set WORK._EMRANK has 20 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

13033  data work._augment;
13034  do BIN= 1 to 20;
13035  DECILE = BIN*5;
13036  output;
13037  end;
13038  run;

NOTE: The data set WORK._AUGMENT has 20 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

13039  data WORK._EMRANK;
13040  merge WORK._AUGMENT WORK._EMRANK;
13041  by BIN;
13042  run;

NOTE: There were 20 observations read from the data set WORK._AUGMENT.
NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 20 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

13043  data WORK._EMRANK;
13044  set WORK._EMRANK end=_lastObservation_;
13045  retain _previousMinP_ _previousMaxP_;
13046  retain _group_ 1;
13047  keep event;
13048  keep bin _cutoff_ _group_;
13049  if (bin > 1) then do;
13050  bin = bin - 1;
13051  _cutoff_ = (_maxP_ + _previousMinP_) / 2;
13052  if (abs(_previousMaxP_ - _previousMinP_) < 1E-6) then do;
13053  /* tied */
13054  _cutoff_ = max((_minP_ + _maxP_)/2, min(_cutoff_, _previousMinP_/*-1E-6*/
13055  ));
13056  end;
13057  else if (abs(_maxP_ - _minP_) < 1E-6) then do;
13058  /* next tied */
13059  _cutoff_ = min((_previousMinP_ + _previousMaxP_)/2, max(_cutoff_, _maxP_/*+ 1E-6*/
13060  ));
13061  end;
13062  output;
13063  *if ( abs((_maxP_ +_minP_)/2 - (_previousMaxP_ + _previousMinP_)/2) > 1E-6) then do;
13064  * _group_ + 1;
13065  *end;
13066  if (_maxP_ le _previousMinP_ - 1E-6) then do;
13067  _group_ + 1;
13068  end;
13069  else if (abs(_maxP_ - _previousMinP_) < 1E-6) then do;
13070  if (abs(_maxP_ - _minP_) > 1E-6) then do;
13071  _group_ + 1;
13072  end;
13073  end;
13074  bin + 1;
13075  /* correct the previous change */
13076  end;
13077  if (_lastObservation_) then do;
13078  _cutoff_ = .;
13079  output;
13080  end;
13081  _previousMinP_ = _minP_;
13082  _previousMaxP_ = _maxP_;
13083  run;

NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 20 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

13084  data WORK._EMRANK;
13085  set WORK._EMRANK;
13086  by _group_;
13087  retain _start_;
13088  if (first._group_) then do;
13089  _start_ = _n_;
13090  end;
13091  if (last._group_) then do;
13092  _end_ = _n_;
13093  output;
13094  end;
13095  run;

NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 17 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
13096  filename emflow "H:\DMU_Final Year\Data Mining\FinalCW\FinalCourseWork\Workspaces\EMWS1\MdlComp\EMFLOWSCORE.sas";
13097  *------------------------------------------------------------*;
13098  * MdlComp: Scoring REG2_TRAIN data;
13099  *------------------------------------------------------------*;
13100  data EMWS1.MdlComp_TRAIN
13101  / view=EMWS1.MdlComp_TRAIN
13102  ;
13103  set EMWS1.Reg2_TRAIN
13104  ;
13105  %inc emflow;
13175   run;

NOTE: DATA STEP view saved on file EMWS1.MDLCOMP_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.REG2_TRAIN.VIEW used (Total process time):
      real time           0.08 seconds
      cpu time            0.03 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.03 seconds
      

13176   quit;
13177   filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

13178   filename emflow "H:\DMU_Final Year\Data Mining\FinalCW\FinalCourseWork\Workspaces\EMWS1\MdlComp\EMFLOWSCORE.sas";
13179   *------------------------------------------------------------*;
13180   * MdlComp: Scoring REG2_VALIDATE data;
13181   *------------------------------------------------------------*;
13182   data EMWS1.MdlComp_VALIDATE
13183   / view=EMWS1.MdlComp_VALIDATE
13184   ;
13185   set EMWS1.Reg2_VALIDATE
13186   ;
13187   %inc emflow;
13257   run;

NOTE: DATA STEP view saved on file EMWS1.MDLCOMP_VALIDATE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.REG2_VALIDATE.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
      

13258   quit;
13259   filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

13260   filename emflow "H:\DMU_Final Year\Data Mining\FinalCW\FinalCourseWork\Workspaces\EMWS1\MdlComp\EMFLOWSCORE.sas";
13261   *------------------------------------------------------------*;
13262   * MdlComp: Scoring REG2_TEST data;
13263   *------------------------------------------------------------*;
13264   data EMWS1.MdlComp_TEST
13265   / view=EMWS1.MdlComp_TEST
13266   ;
13267   set EMWS1.Reg2_TEST
13268   ;
13269   %inc emflow;
13339   run;

NOTE: DATA STEP view saved on file EMWS1.MDLCOMP_TEST.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.REG2_TEST.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.04 seconds
      

13340   quit;
13341   filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

13342   *------------------------------------------------------------*;
13343   * MdlComp: Computing metadata for TRAIN data;
13344   *------------------------------------------------------------*;

NOTE: View EMWS1.MDLCOMP_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      
NOTE: View EMWS1.MDLCOMP_TRAIN.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.04 seconds
      
NOTE: View EMWS1.MDLCOMP_VALIDATE.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      
NOTE: View EMWS1.MDLCOMP_TEST.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
      
