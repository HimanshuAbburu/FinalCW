****************************************************************;
******             DECISION TREE SCORING CODE             ******;
****************************************************************;
 
******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
LENGTH I_ORGYN  $   12;
LENGTH _WARN_  $    4;
 
******              LABELS FOR NEW VARIABLES              ******;
label _NODE_ = 'Node' ;
label _LEAF_ = 'Leaf' ;
label P_ORGYN1 = 'Predicted: ORGYN=1' ;
label P_ORGYN0 = 'Predicted: ORGYN=0' ;
label Q_ORGYN1 = 'Unadjusted P: ORGYN=1' ;
label Q_ORGYN0 = 'Unadjusted P: ORGYN=0' ;
label V_ORGYN1 = 'Validated: ORGYN=1' ;
label V_ORGYN0 = 'Validated: ORGYN=0' ;
label I_ORGYN = 'Into: ORGYN' ;
label U_ORGYN = 'Unnormalized Into: ORGYN' ;
label _WARN_ = 'Warnings' ;
 
 
******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
LENGTH _ARBFMT_1 $      1; DROP _ARBFMT_1;
_ARBFMT_1 = ' '; /* Initialize to avoid warning. */
 
 
******             ASSIGN OBSERVATION TO NODE             ******;
IF  NOT MISSING(AGE ) AND
  AGE  <                 44.5 THEN DO;
  IF  NOT MISSING(AFFL ) AND
    AFFL  <                 10.5 THEN DO;
    _ARBFMT_1 = PUT( GENDER , $1.);
     %DMNORMIP( _ARBFMT_1);
    IF _ARBFMT_1 IN ('F' ) THEN DO;
      IF  NOT MISSING(AFFL ) AND
        AFFL  <                  5.5 THEN DO;
        _NODE_  =                   45;
        _LEAF_  =                    1;
        P_ORGYN1  =             0.265625;
        P_ORGYN0  =             0.734375;
        Q_ORGYN1  =             0.265625;
        Q_ORGYN0  =             0.734375;
        V_ORGYN1  =     0.31914893617021;
        V_ORGYN0  =     0.68085106382978;
        I_ORGYN  = '0' ;
        U_ORGYN  =                    0;
        END;
      ELSE DO;
        _NODE_  =                   46;
        _LEAF_  =                    2;
        P_ORGYN1  =     0.54601226993865;
        P_ORGYN0  =     0.45398773006134;
        Q_ORGYN1  =     0.54601226993865;
        Q_ORGYN0  =     0.45398773006134;
        V_ORGYN1  =     0.60829493087557;
        V_ORGYN0  =     0.39170506912442;
        I_ORGYN  = '1' ;
        U_ORGYN  =                    1;
        END;
      END;
    ELSE DO;
      _NODE_  =                   44;
      _LEAF_  =                    3;
      P_ORGYN1  =     0.21186440677966;
      P_ORGYN0  =     0.78813559322033;
      Q_ORGYN1  =     0.21186440677966;
      Q_ORGYN0  =     0.78813559322033;
      V_ORGYN1  =     0.22110552763819;
      V_ORGYN0  =      0.7788944723618;
      I_ORGYN  = '0' ;
      U_ORGYN  =                    0;
      END;
    END;
  ELSE DO;
    _NODE_  =                   42;
    _LEAF_  =                    4;
    P_ORGYN1  =     0.72849462365591;
    P_ORGYN0  =     0.27150537634408;
    Q_ORGYN1  =     0.72849462365591;
    Q_ORGYN0  =     0.27150537634408;
    V_ORGYN1  =     0.75686274509803;
    V_ORGYN0  =     0.24313725490196;
    I_ORGYN  = '1' ;
    U_ORGYN  =                    1;
    END;
  END;
ELSE DO;
  IF  NOT MISSING(AFFL ) AND
                    12.5 <= AFFL  THEN DO;
    IF  NOT MISSING(AFFL ) AND
                      17.5 <= AFFL  THEN DO;
      _NODE_  =                   50;
      _LEAF_  =                   13;
      P_ORGYN1  =      0.9090909090909;
      P_ORGYN0  =     0.09090909090909;
      Q_ORGYN1  =      0.9090909090909;
      Q_ORGYN0  =     0.09090909090909;
      V_ORGYN1  =                 0.95;
      V_ORGYN0  =                 0.05;
      I_ORGYN  = '1' ;
      U_ORGYN  =                    1;
      END;
    ELSE DO;
      _NODE_  =                   49;
      _LEAF_  =                   12;
      P_ORGYN1  =     0.42322097378277;
      P_ORGYN0  =     0.57677902621722;
      Q_ORGYN1  =     0.42322097378277;
      Q_ORGYN0  =     0.57677902621722;
      V_ORGYN1  =                  0.4;
      V_ORGYN0  =                  0.6;
      I_ORGYN  = '0' ;
      U_ORGYN  =                    0;
      END;
    END;
  ELSE DO;
    _ARBFMT_1 = PUT( GENDER , $1.);
     %DMNORMIP( _ARBFMT_1);
    IF _ARBFMT_1 IN ('F' ) THEN DO;
      IF  NOT MISSING(AFFL ) AND
        AFFL  <                  8.5 THEN DO;
        _NODE_  =                   55;
        _LEAF_  =                    5;
        P_ORGYN1  =     0.10831234256926;
        P_ORGYN0  =     0.89168765743073;
        Q_ORGYN1  =     0.10831234256926;
        Q_ORGYN0  =     0.89168765743073;
        V_ORGYN1  =      0.1326352530541;
        V_ORGYN0  =     0.86736474694589;
        I_ORGYN  = '0' ;
        U_ORGYN  =                    0;
        END;
      ELSE DO;
        _NODE_  =                   56;
        _LEAF_  =                    6;
        P_ORGYN1  =     0.26825127334465;
        P_ORGYN0  =     0.73174872665534;
        Q_ORGYN1  =     0.26825127334465;
        Q_ORGYN0  =     0.73174872665534;
        V_ORGYN1  =     0.23747276688453;
        V_ORGYN0  =     0.76252723311546;
        I_ORGYN  = '0' ;
        U_ORGYN  =                    0;
        END;
      END;
    ELSE DO;
      IF  NOT MISSING(AGE ) AND
        AGE  <                 76.5 THEN DO;
        IF  NOT MISSING(AFFL ) AND
                           7.5 <= AFFL  THEN DO;
          IF  NOT MISSING(S_CONV ) AND
            S_CONV  <                6.865 THEN DO;
            _NODE_  =                   61;
            _LEAF_  =                    9;
            P_ORGYN1  =     0.13736263736263;
            P_ORGYN0  =     0.86263736263736;
            Q_ORGYN1  =     0.13736263736263;
            Q_ORGYN0  =     0.86263736263736;
            V_ORGYN1  =     0.08823529411764;
            V_ORGYN0  =     0.91176470588235;
            I_ORGYN  = '0' ;
            U_ORGYN  =                    0;
            END;
          ELSE DO;
            _NODE_  =                   62;
            _LEAF_  =                   10;
            P_ORGYN1  =     0.04545454545454;
            P_ORGYN0  =     0.95454545454545;
            Q_ORGYN1  =     0.04545454545454;
            Q_ORGYN0  =     0.95454545454545;
            V_ORGYN1  =     0.08360128617363;
            V_ORGYN0  =     0.91639871382636;
            I_ORGYN  = '0' ;
            U_ORGYN  =                    0;
            END;
          END;
        ELSE DO;
          IF  NOT MISSING(S_TOIL ) AND
                           42.04 <= S_TOIL  THEN DO;
            _NODE_  =                   60;
            _LEAF_  =                    8;
            P_ORGYN1  =                 0.25;
            P_ORGYN0  =                 0.75;
            Q_ORGYN1  =                 0.25;
            Q_ORGYN0  =                 0.75;
            V_ORGYN1  =                    0;
            V_ORGYN0  =                    1;
            I_ORGYN  = '0' ;
            U_ORGYN  =                    0;
            END;
          ELSE DO;
            _NODE_  =                   59;
            _LEAF_  =                    7;
            P_ORGYN1  =      0.0204081632653;
            P_ORGYN0  =     0.97959183673469;
            Q_ORGYN1  =      0.0204081632653;
            Q_ORGYN0  =     0.97959183673469;
            V_ORGYN1  =     0.03181818181818;
            V_ORGYN0  =     0.96818181818181;
            I_ORGYN  = '0' ;
            U_ORGYN  =                    0;
            END;
          END;
        END;
      ELSE DO;
        _NODE_  =                   54;
        _LEAF_  =                   11;
        P_ORGYN1  =     0.15384615384615;
        P_ORGYN0  =     0.84615384615384;
        Q_ORGYN1  =     0.15384615384615;
        Q_ORGYN0  =     0.84615384615384;
        V_ORGYN1  =     0.08450704225352;
        V_ORGYN0  =     0.91549295774647;
        I_ORGYN  = '0' ;
        U_ORGYN  =                    0;
        END;
      END;
    END;
  END;
 
****************************************************************;
******          END OF DECISION TREE SCORING CODE         ******;
****************************************************************;
 
drop _LEAF_;
